<!DOCTYPE html> 
<html lang="fr" dir="ltr" class="no-js">
<head>
  <meta charset="utf-8" />
  <title></title>
  <script>document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, 'js');</script>
</head>
<body>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <div></div>
  <script src="js/jquery-1.2.3.js"></script>
  <script src="js/easyPlug.js"></script>
  <script>
    var id, Plugin;

    Plugin = $.easyPlug({
      name: 'demo',
      events: ['ready'],
      presets:  {
        foo: 'foo'
      },
      construct: function () {
        console.log('construct ' + id);
        id++;
        this.element.trigger($.demo.events.ready);
      },
      init: function () {
        id = 1;
        console.log('init');
      },
      invoke: function (name, args) {
        console.log('invoke ' + name);
      }
    });

    Plugin.fn.foo = function () {
      return this.settings.foo;
    };


    console.log(

      $('div:lt(5)')
        .demo('foo'),

      $('div:gt(4)')
        .bind($.demo.events.ready, function () {
          console.log('ready !')
        })
        .demo({foo: 'bar'})
        .demo('foo'),

      $.demo.events.ready
    );

  </script>
</body>
</html>